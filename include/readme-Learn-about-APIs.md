# Readme


### REST [&uarr;](#Readme)


REST означает REpresentational State Transfer (Википедия: «передача состояния представления»). Это популярный
архитектурный подход для создания API в современном мире.

Протокол HTTP

    Когда вы вводите в браузере URL-адрес, например www.google.com, на сервер отправляется запрос на веб-сайт, идентифицированный URL-адресом.
    Затем этот сервер формирует и выдает ответ. Важным является формат этих запросов и ответов. Эти форматы определяются протоколом HTTP — Hyper Text Transfer Protocol.

    Когда вы набираете URL в браузере, он отправляет запрос GET на указанный сервер. Затем сервер отвечает HTTP-ответом, который содержит данные в формате HTML — Hyper Text Markup Language. Затем браузер получает этот HTML-код и отображает его на экране.

    Допустим, вы заполняете форму, присутствующую на веб-странице, со списком элементов. В таком случае, когда вы нажимаете кнопку «Submit» (Отправить), HTTP-запрос POST отправляется на сервер.

HTTP и RESTful веб-сервисы

    HTTP обеспечивает базовый уровень для создания веб-сервисов. Поэтому важно понимать HTTP. Вот несколько ключевых абстракций.

    Ресурс

    Ресурс — это ключевая абстракция, на которой концентрируется протокол HTTP. Ресурс — это все, что вы хотите показать внешнему миру через ваше приложение. Например, если мы пишем приложение для управления задачами, экземпляры ресурсов будут следующие:

        Конкретный пользователь
        Конкретная задача
        Список задач


    URI ресурса

    Когда вы разрабатываете RESTful сервисы, вы должны сосредоточить свое внимание на ресурсах приложения. Способ, которым мы идентифицируем ресурс для предоставления, состоит в том, чтобы назначить ему URI — универсальный идентификатор ресурса. Например:

        Создать пользователя: POST /users
        Удалить пользователя: DELETE /users/1
        Получить всех пользователей: GET /users
        Получить одного пользователя: GET /users/1

REST и Ресурсы

    Важно отметить, что с REST вам нужно думать о приложении с точки зрения ресурсов:
    Определите, какие ресурсы вы хотите открыть для внешнего мира
    Используйте глаголы, уже определенные протоколом HTTP, для выполнения операций с этими ресурсами.

    Вот как обычно реализуется служба REST:

    - Формат обмена данными: здесь нет никаких ограничений. JSON — очень популярный формат, хотя можно использовать и другие, такие как XML
    
    - Транспорт: всегда HTTP. REST полностью построен на основе HTTP.
    
    - Определение сервиса: не существует стандарта для этого, а REST является гибким. Это может быть недостатком в некоторых сценариях, поскольку потребляющему приложению может быть необходимо понимать форматы запросов и ответов. Однако широко используются такие языки определения веб-приложений, как WADL (Web Application Definition Language) и Swagger.


    REST фокусируется на ресурсах и на том, насколько эффективно вы выполняете операции с ними, используя HTTP.

Компоненты HTTP

    HTTP определяет следующую структуру запроса:

        строка запроса (request line) — определяет тип сообщения
        заголовки запроса (header fields) — характеризуют тело сообщения, параметры передачи и прочие сведения
        тело сообщения (body) — необязательное


    HTTP определяет следующую структуру ответного сообщения (response):

        строка состояния (status line), включающая код состояния и сообщение о причине
        поля заголовка ответа (header fields)
        дополнительное тело сообщения (body)


    Метод, используемый в HTTP-запросе, указывает, какое действие вы хотите выполнить с этим запросом. Важные примеры:

        GET: получить подробную информацию о ресурсе
        POST: создать новый ресурс
        PUT: обновить существующий ресурс
        DELETE: Удалить ресурс


    Код состояния всегда присутствует в ответе HTTP. Типичные примеры:

        200 — успех
        404 — cтраница не найдена

### REST и SOAP

REST и SOAP на самом деле не сопоставимы. SOAP — это формат протокола, основанный на XML, тогда как REST — это
архитектурный подход.

Давайте сравним популярные реализации стилей REST и SOAP.

    - Пример реализации RESTful: JSON через HTTP
    - Пример реализации SOAP: XML поверх SOAP через HTTP

Формат обмена сообщениями

    - В SOAP вы используете формат SOAP XML для запросов и ответов.

    - В REST такого фиксированного формата нет. Вы можете обмениваться сообщениями на основе XML, JSON или любого другого удобного формата. JSON является самым популярным среди используемых форматов.

Определения услуг

    - SOAP использует WSDL (Web Services Description Language) — язык описания веб-сервисов и доступа к ним, основанный на языке XML.
    
    - REST не имеет стандартного языка определения сервиса. Несмотря на то, что WADL был одним из первых предложенных стандартов, он не очень популярен. Более популярно использование Swagger или Open API.

Транспорт

    SOAP не накладывает никаких ограничений на тип транспортного протокола. Вы можете использовать либо Web протокол HTTP, либо MQ.

    REST подразумевает наилучшее использование транспортного протокола HTTP

Простота реализации

    RESTFful веб-сервисы, как правило, гораздо проще реализовать, чем веб-сервисы на основе SOAP.

    REST обычно использует JSON, который легче анализировать и обрабатывать. В дополнение к этому, REST не требует наличия определения службы для предоставления веб-службы.

    Однако в случае SOAP вам необходимо определить свой сервис с использованием WSDL, и при обработке и анализе сообщений SOAP-XML возникают большие накладные расходы.

Всякий раз, когда вы разрабатываете сервис, такой как REST API или SOAP API, вы можете выбрать один из двух подходов:

    - Code First и генерируйте контракт из кода
    - Contract First и разработка кода на основе контракта

### SOAP [&uarr;](#Readme)



### JSON-APIs [&uarr;](#Readme)



### gRPC [&uarr;](#Readme)



### Apollo [&uarr;](#Readme)



### Relay-Modern [&uarr;](#Readme)



### Cookie-Based [&uarr;](#Readme)



### QAuth [&uarr;](#Readme)



### Basic-Auth [&uarr;](#Readme)



### Token-Auth [&uarr;](#Readme)



### JWT [&uarr;](#Readme)

JWT – это открытый стандарт для передачи пакетов между сторонами в веб-среде. Он используется для шифрования и передачи
данных авторизованных пользователей между поставщиком идентификации (ваш корпоративный веб-сайт) и поставщиком услуг.

Простыми словами, JWT — это лишь строка в следующем формате header.payload.signature.
Предположим, что мы хотим зарегистрироваться на сайте. В нашем случае есть три участника — пользователь user, сервер
приложения application server и сервер аутентификации authentication server. Сервер аутентификации будет обеспечивать
пользователя токеном, с помощью которого он позднее сможет взаимодействовать с приложением.

Приложение использует JWT для проверки аутентификации пользователя следующим образом:

    1. Сперва пользователь заходит на сервер аутентификации с помощью аутентификационного ключа (это может быть пара логин/пароль, либо Facebook ключ, либо Google ключ, либо ключ от другой учетки).
    2. Затем сервер аутентификации создает JWT и отправляет его пользователю.
    3. Когда пользователь делает запрос к API приложения, он добавляет к нему полученный ранее JWT.
    4. Когда пользователь делает API запрос, приложение может проверить по переданному с запросом JWT является ли пользователь тем, за кого себя выдает. В этой схеме сервер приложения сконфигурирован так, что сможет проверить, является ли входящий JWT именно тем, что был создан сервером аутентификации (процесс проверки будет объяснен позже более детально).


### OpenID [&uarr;](#Readme)



### SAML [&uarr;](#Readme)



### HATEOAS [&uarr;](#Readme)

Термин HATEOAS означает фразу «Hypermedia As The Engine Of Application State» (Гипермедиа как двигатель состояния
приложения).

Когда вы отправляете запрос для получения данных к примеру - учетной записи, вы получаете оба:

    Номер счета и данные баланса
    Ссылки, которые обеспечивают действия, чтобы сделать депозит/снятие/перевод/закрытие

С HATEOAS запрос на REST ресурс дает мне как данные, так и действия, связанные с данными.

Зачем нам нужен HATEOAS?

Единственная самая важная причина для HATEOAS — слабая связь (loose coupling). Если потребителю службы REST необходимо
жестко закодировать все URL-адреса ресурсов, он тесно связан с реализацией вашей службы. Вместо этого, если вы вернете
URL-адреса, которые он может использовать для действий, он будет слабосвязанным. Нет строгой зависимости от структуры
URI, так как она указана и используется в ответе.

### Open-API-Specs [&uarr;](#Readme)




